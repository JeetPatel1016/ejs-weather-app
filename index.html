<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="./css/style.css" />
        <script
            src="https://kit.fontawesome.com/aa8cd70c81.js"
            crossorigin="anonymous"
        ></script>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/weather-icons/2.0.12/css/weather-icons.min.css"
            integrity="sha512-r/Gan7PMSRovDus++vDS2Ayutc/cSdl268u047n4z+k7GYuR7Hiw71FsT3QQxdKJBVHYttOJ6IGLnlM9IoMToQ=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        />
        <title>Know Weather</title>
    </head>
    <body>
        <div class="main">
            <!--Header Text-->
            <div class="headerContainer">
                <p>Philadelphia, PA</p>
                <p id="LocationPrompt">
                    <i class="fa fa-map-marker" aria-hidden="true"></i>
                    Change Location
                </p>
                <form
                    action="/"
                    id="accordianForm"
                    class="city-form"
                    method="POST"
                >
                    <input type="text" name="city" id="city" />
                    <button class="sub-btn" type="submit">Search</button>
                </form>
            </div>
            <!--Info Body-->
            <div class="infoContainer">
                <div>
                    <!--ICON-->
                    <div class="weather">
                        <i class="wi wi-day-sunny"></i>
                        <span>Sunny</span>
                    </div>
                    <!--Temperature-->
                    <div class="temperature">30 <sup>o</sup>C</div>
                </div>
            </div>
            <!--stats-->
            <div class="stats">
                <!--Humidity-->
                <div class="statContent">
                    <i class="wi wi-humidity"></i>
                    <div class="stat-text">
                        <p>Humidity</p>
                        <h1>50%</h1>
                    </div>
                </div>
                <!--Pressure-->
                <div class="statContent">
                    <i class="wi wi-barometer"></i>
                    <div class="stat-text">
                        <p>Pressure</p>
                        <h1>1008 PS</h1>
                    </div>
                </div>
                <!--Wind-->
                <div class="statContent">
                    <i class="wi wi-strong-wind"></i>
                    <div class="stat-text">
                        <p>Wind</p>
                        <h1>5 m/s</h1>
                    </div>
                </div>
            </div>
            <!--Forecast Section-->
            <div class="forecast">
                <div class="header">
                    <h1 class="forecastHeader">5 Days Forecast</h1>
                    <div class="forecastContainer">
                        <!--Item 1-->
                        <div class="forecastItem">
                            <i class="forecastIcon wi wi-day-rain"></i>
                            <p class="forecastTemp">18 <sup>o</sup>C</p>
                            <p class="forecastDesc">Rain</p>
                            <p class="forecastDate">Wed, 18th Aug</p>
                        </div>
                        <!--Item 2-->
                        <div class="forecastItem">
                            <i class="forecastIcon wi wi-day-rain"></i>
                            <p class="forecastTemp">18 <sup>o</sup>C</p>
                            <p class="forecastDesc">Rain</p>
                            <p class="forecastDate">Wed, 18th Aug</p>
                        </div>
                        <!--Item 3-->
                        <div class="forecastItem">
                            <i class="forecastIcon wi wi-day-rain"></i>
                            <p class="forecastTemp">18 <sup>o</sup>C</p>
                            <p class="forecastDesc">Rain</p>
                            <p class="forecastDate">Wed, 18th Aug</p>
                        </div>
                        <!--Item 4-->
                        <div class="forecastItem">
                            <i class="forecastIcon wi wi-day-rain"></i>
                            <p class="forecastTemp">18 <sup>o</sup>C</p>
                            <p class="forecastDesc">Rain</p>
                            <p class="forecastDate">Wed, 18th Aug</p>
                        </div>
                        <!--Item 5-->
                        <div class="forecastItem">
                            <i class="forecastIcon wi wi-day-rain"></i>
                            <p class="forecastTemp">18 <sup>o</sup>C</p>
                            <p class="forecastDesc">Rain</p>
                            <p class="forecastDate">Wed, 18th Aug</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="color-overlay"></div>
        </div>

        <!-- Scripts-->
        <script>
            //accessing main bg element
            const main = document.getElementsByClassName("main")[0];
            const overlay = document.getElementsByClassName("color-overlay")[0];

            //Finding time
            // "March 13, 08 21:20"
            const time = new Date();
            const hours = time.getHours();
            let period = "";
            console.log(hours);
            if (hours >= 6 && hours <= 8) {
                period = "dawn";
                overlay.style.backgroundColor = "#17021e6c";
            } else if (hours > 8 && hours <= 12) {
                period = "morning";
                overlay.style.backgroundColor = "#03142880";
            } else if (hours > 12 && hours <= 17) {
                period = "noon";
                overlay.style.backgroundColor = "#36201366";
            } else if (hours > 17 && hours <= 19) {
                period = "dusk";
                overlay.style.backgroundColor = "#44051d59";
            } else {
                period = "night";
                overlay.style.backgroundColor = "#030f1c99";
            }
            //generating random number from 1 to 2
            let i = Math.floor(Math.random() * 2) + 1;
            //Final method and event Listener to change images acc to device
            const matchFunction = (x) => {
                if (x.matches) {
                    main.style.backgroundImage = `url(./css/images/mobile/${period}-${i}.jpg)`;
                } else {
                    main.style.backgroundImage = `url(./css/images/desktop/${period}-${i}.jpg)`;
                }
            };
            let x = window.matchMedia("(max-width: 1024px)");
            matchFunction(x);
            x.addEventListener("change", matchFunction);
        </script>
        <script src="./js/index.js"></script>
    </body>
</html>
